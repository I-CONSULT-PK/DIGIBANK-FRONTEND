<div class="ml-sm-auto col-lg-10 mt-2">
  <div class="main-card main-card py-3">
    <!-- <section id="Navbar">
      <nav class="navbar navbar-expand-lg navbar-light">
        <div class="container-fluid">
          <a class="navbar-brand mr-auto" href="#">
            Manage Internet Banking
            <p class="manage-text">Manage Your Bank Account</p>
          </a>

          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
            aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>

          <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
            <ul class="navbar-nav">
              <li class="nav-item">
                <a class="nav-link" href="#">
                  <div class="has-search">
                    <span class="fa fa-search form-control-feedback"></span>
                    <input type="text" class="form-control" placeholder="Search" />
                  </div>
                </a>
              </li>
              <li class="nav-item">
                <div class="d-flex align-items-center ml-3">
                  <div class="circle-icon">
                    <i class="fas fa-cog"></i>
                  </div>
                  <div class="circle-icon ml-3">
                    <i class="fas fa-bell"></i>
                  </div>
                </div>
              </li>
              <li class="nav-item">
                <div class="row">
                  <div class="col">
                    <h5 class="m-0">Welcome</h5>
                  </div>
                </div>
                <div class="row">
                  <div class="col d-flex align-items-center">
                    <h6 class="m-0">Mirza Uraib</h6>
                    <i class="fa fa-angle-down ml-1"></i>
                  </div>
                </div>
              </li>
            </ul>
          </div>
        </div>
      </nav>
      <hr class="divider" />
    </section> -->
    <div class="d-flex justify-content-between align-items-center tittle-div">
      <div class="account-title">Beneficiary Management</div>
      <button class="btn add-new-container border border-dashed border-info p-2 rounded mb-3"
        (click)="openAddBeneficiaryModal()">
        <div class="d-flex align-items-center gap-2">
          <div class="add-container"></div>
          <div class="add-new-text">Add New</div>
        </div>
      </button>
    </div>
    <section id="Benificiary-History">
      <div class="container">
        <!-- <table class="table transaction-table">
          <thead>
            <tr>
              <th>Description</th>
              <th>Banks</th>
              <th>Account Number</th>
              <th>Date</th>
              <th>Amount</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let benificiary of beneficiaries">
              <td>
                <div class="d-flex justify-content-start align-items-center">
                   <div class="bank-logo">
                     <img class="w-100" src="../../../assets/img/digibank-logo.png" alt="">
                   </div>
                  <div class="text-center mx-2 fs-15px">{{benificiary?.beneficiaryName}}</div>
                </div>
              </td>

              <td>
                <img src="../../../assets/img/Logo/askari-bank-logo.png" alt="Askari Bank" class="bank-logo" />
              </td>
              <td>{{benificiary?.accountNumber}}</td>
              <td>28 Jan 2024</td>
              <td>Rs.2800</td>
              <td>
                <div class="d-flex flex-row gap-2">
                 <div class="px-2 py-1 border rounded-circle shadow-sm cursor-pointer">
                  <i *ngIf="!isFavourite" class="far fa-heart" (click)="addToFavourite()"></i>
                  <i *ngIf="isFavourite"  class="fas fa-heart color-ff0000" (click)="addToFavourite()"></i>
                 </div> 
                 <div class="px-2 py-1 border rounded-circle shadow-sm cursor-pointer">
                  <i class="fas fa-edit fav-icon"></i>
                 </div>
                 <div class="px-2 py-1 border rounded-circle shadow-sm cursor-pointer">
                  <i class="fas fa-trash-alt fav-icon" (click)="openDeleteConfirmationModal(benificiary.data.id)"></i>
                 </div>
                </div>
              </td>
            </tr>
            <tr>
              <td>
                <div class="d-flex justify-content-start align-items-center">
                  <span class="description-icon A">A</span>
                  <div class="text-center mx-2">Amna</div>
                </div>
              </td>
              <td>
                <img src="../../../assets/img/Logo/hbl-konnect-logo.png" alt="HBL KONNECT" class="bank-logo" />
              </td>
              <td>98575463558974</td>
              <td>28 Jan 2024</td>
              <td>Rs.2800</td>
              <td>
                <div class="d-flex flex-row">
                  <i class="fas fa-edit edit-icons"></i>
                  <i class="fas fa-trash-alt edit-icons ml-2"></i>
                </div>
              </td>
            </tr>
            <tr>
              <td>
                <div class="d-flex justify-content-start align-items-center">
                  <span class="description-icon S">S</span>
                  <div class="text-center mx-2">Sidra</div>
                </div>
              </td>
              <td>
                <img src="../../../assets/img/Logo/askari-bank-logo.png" alt="Askari Bank" class="bank-logo" />
              </td>
              <td>98575463558974</td>
              <td>28 Jan 2024</td>
              <td>Rs.2800</td>
              <td>
                <div class="d-flex flex-row">
                  <i class="fas fa-edit edit-icons"></i>
                  <i class="fas fa-trash-alt edit-icons ml-2"></i>
                </div>
              </td>
            </tr>
            <tr>
              <td>
                <div class="d-flex justify-content-start align-items-center">
                  <span class="description-icon F">F</span>
                  <div class="text-center mx-2">Fatima</div>
                </div>
              </td>
              <td>
                <img src="../../../assets/img/Logo/hbl-konnect-logo.png" alt="HBL KONNECT" class="bank-logo" />
              </td>
              <td>98575463558974</td>
              <td>28 Jan 2024</td>
              <td>Rs.2800</td>
              <td>
                <div class="d-flex flex-row">
                  <i class="fas fa-edit edit-icons"></i>
                  <i class="fas fa-trash-alt edit-icons ml-2"></i>
                </div>
              </td>
            </tr>
          </tbody>
        </table> -->
        <benificiary-management-listing></benificiary-management-listing>
      </div>
    </section>
  </div>
</div>
<!-- Modal for Adding New Beneficiary -->
<ics-modal #AddBeneficiaryModal Caption="Add New Beneficiary">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="container">
        <!-- Form to Add New Beneficiary -->
        <form [formGroup]="myForm" (ngSubmit)="addBenificiary()">
          <div class="row align-items-center">
            <div class="col-md-6">
              <div class="mb-3">
                <ics-dropdown class="form-label" [(value)]="myForm.value.bankName" formControlName="bankName"
                  [data]="accountData" caption="Bank Name" valueMember="bankName" displayMember="bankName"
                  (selectionChange)="onDropdownChange($event)"
                  (saveAndCloseButtonLabel)="addBenificiary()"></ics-dropdown>
              </div>
            </div>
            <div class="col-md-6">
              <div class="mb-4">
                <!-- <label for="accountNumber" class="form-label"
                  >Account Number/IBAN*</label
                > -->
                <ics-input caption="Account Number/IBAN*" formControlName="accountNumber"
                  placeholder="Enter your account number" (Blur)="saveAccountNumber()"></ics-input>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-6">
              <div class="mb-3">
                <ics-input caption="Account Title*" formControlName="accountTitle"
                  placeholder="Enter your account title" disabled required></ics-input>
              </div>
            </div>
            <div class="col-md-6">
              <div class="mb-3">
                <ics-input caption="Alias*" formControlName="alias" placeholder="Enter your Alias" required></ics-input>
              </div>
            </div>
            <div class="row">
              <div class="col-md-6">
                <ics-input caption="Mobile Number" formControlName="mobileNumber" placeholder="Enter your mobile number"
                  required></ics-input>
              </div>
            </div>
            <button (click)="addBenificiary()">save</button>
          </div>
          <!-- <button type="submit" class="btn btn-primary mt-4">Add</button> -->
        </form>
      </div>
      <!-- End of Form Container -->
    </div>
  </div>
</ics-modal>
<ics-modal #confirmationModal Caption="Delete Confirmation" [saveAndCloseButtonLabel]="'Delete'"
  (onSave)="handleDeleteConfirmation()">
  <div class="modal-content">
    <div class="container">
      <p>Are you sure you wants to delete it?</p>
    </div>
  </div>
</ics-modal>
<ics-error #IcsError></ics-error>